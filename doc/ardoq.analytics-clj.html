<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>ardoq.analytics-clj documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Analytics-clj 0.1.1 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="ardoq.analytics-clj.html"><span>ardoq.analytics-clj</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="ardoq.analytics-clj.html#var-flush-queue"><span>flush-queue</span></a></li><li><a href="ardoq.analytics-clj.html#var-identify"><span>identify</span></a></li><li><a href="ardoq.analytics-clj.html#var-initialize"><span>initialize</span></a></li><li><a href="ardoq.analytics-clj.html#var-make-alias"><span>make-alias</span></a></li><li><a href="ardoq.analytics-clj.html#var-track"><span>track</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>ardoq.analytics-clj documentation</h2><pre class="doc"></pre><div class="public" id="var-flush-queue"><h3>flush-queue</h3><div class="usage"><code>(flush-queue client)</code></div><pre class="doc">Call flush to block until all the messages are flushed to the server. This is especially useful when turning off your web server
to make sure we have all your messages.</pre></div><div class="public" id="var-identify"><h3>identify</h3><div class="usage"><code>(identify client user-id)</code><code>(identify client user-id traits &amp; [{:keys [timestamp options callback]}])</code></div><pre class="doc">Identifying a user ties all of their actions to an id, and associates user traits to that id.

Can also take an empty map of traits if you need to specify options, but no traits.

Options:
:timestamp - a DateTime representing when the aliasing took place. If the alias just happened, leave it blank and we'll
             use the server's time.
:options - map that describes anything that doesn't fit into this event's properties (such as the user's IP {:ip 'some-ip'})
:callback - a callback that is fired when this track's batch is flushed to the server. Note: this callback is fired on the
            same thread as the async event loop that made the request. You should not perform any kind of long running operation on it.
            Example: (fn [^Boolean success ^String message] ...)</pre></div><div class="public" id="var-initialize"><h3>initialize</h3><div class="usage"><code>(initialize secret)</code><code>(initialize secret {:keys [host max-queue-size timeout], :or {host Defaults/HOST, max-queue-size Defaults/MAX_QUEUE_SIZE, timeout Defaults/TIMEOUT}})</code></div><pre class="doc">Initializes and returns a client with given secret.

Options:
:host - the segment.io api endpoint (with scheme). Default value 'https://api.segment.io'.
:max-queue-size - maximum number of messages to allow into the queue before no new messages are accepted. Default value 10000.
:timeout - number of milliseconds to wait before timing out the request. Default value 10000.</pre></div><div class="public" id="var-make-alias"><h3>make-alias</h3><div class="usage"><code>(make-alias client from to)</code><code>(make-alias client from to &amp; [{:keys [timestamp options callback]}])</code></div><pre class="doc">Aliases an anonymous user into an identified user.

from - the anonymous user's id before they are logged in.
to - the identified user's id after they're logged in.

Options:
:timestamp - a DateTime representing when the identify took place.If the identify just happened,leave it blank and we'll
             use the server's time. If you are importing data from the past, make sure you provide this argument.
:options - map that describes anything that doesn't fit into this event's properties (such as the user's IP {:ip 'some-ip'})
:callback - a callback that is fired when this track's batch is flushed to the server. Note: this callback is fired on the
            same thread as the async event loop that made the request. You should not perform any kind of long running operation on it.
            Example: (fn [^Boolean success ^String message] ...)</pre></div><div class="public" id="var-track"><h3>track</h3><div class="usage"><code>(track client user-id event)</code><code>(track client user-id event properties)</code><code>(track client user-id event properties &amp; [{:keys [timestamp options callback]}])</code></div><pre class="doc">Whenever a user triggers an event, you’ll want to track it.

Arguments:
event - describes what this user just did. It's a human readable description like 'Played a Song', 'Printed a Report' or 'Updated Status'.
properties - map with items that describe the event in more detail. This argument is optional, but highly recommended—you’ll find these
            properties extremely useful later.

Options:
:timestamp - a DateTime representing when the identify took place.If the identify just happened,leave it blank and we'll
             use the server's time. If you are importing data from the past, make sure you provide this argument.
:options - map that describes anything that doesn't fit into this event's properties (such as the user's IP {:ip 'some-ip'})
:callback - a callback that is fired when this track's batch is flushed to the server. Note: this callback is fired on the
            same thread as the async event loop that made the request. You should not perform any kind of long running operation on it.
            Example: (fn [^Boolean success ^String message] ...):</pre></div></div></body></html>